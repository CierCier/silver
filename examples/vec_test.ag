// Example: Using dynamic arrays (Vec) from std.vec
import std.io;
import std.vec;

i32 main() {
    printf("=== Vec (Dynamic Array) Example ===\n\n");
    
    // Vec<i32> - integer vector
    printf("--- Vec<i32> Operations ---\n");
    
    Vec<i32> nums = Vec<i32>.new();
    printf("New vector created\n");
    
    // Push elements
    for (i32 i = 0; i < 10; i = i + 1) {
        nums.push(i * 10);
    }
    printf("After pushing 0-90\n");
    
    // Access elements
    printf("First: %d, Last: %d\n", nums.first(), nums.last());
    printf("Element at index 5: %d\n", nums.get(5));
    
    // Modify element
    nums.set(5, 999);
    printf("After set(5, 999), element at 5 is: %d\n", nums.get(5));
    
    // Pop elements
    printf("\n--- Pop Operations ---\n");
    i32 popped = nums.pop();
    printf("Popped: %d\n", popped);
    popped = nums.pop();
    printf("Popped: %d\n", popped);
    
    // Search
    printf("\n--- Search ---\n");
    i64 idx = nums.find(999);
    printf("Index of 999: %ld\n", idx);
    printf("Contains 50: %s\n", nums.contains(50) ? "yes" : "no");
    printf("Contains 12345: %s\n", nums.contains(12345) ? "yes" : "no");
    
    // Reverse
    printf("\n--- Reverse ---\n");
    nums.reverse();
    printf("Reversed vector. First: %d, Last: %d\n", nums.first(), nums.last());
    
    // Vec<f64> - floating point vector
    printf("\n\n--- Vec<f64> Operations ---\n");
    
    Vec<f64> floats = Vec<f64>.new();
    floats.push(1.5);
    floats.push(2.5);
    floats.push(3.5);
    floats.push(4.5);
    floats.push(5.5);
    
    printf("Float vector size: %ld\n", floats.length());
    printf("First: %f, Last: %f\n", floats.first(), floats.last());
    
    // Vec<void*> - pointer vector (for storing objects)
    printf("\n\n--- Vec<void*> Operations ---\n");
    
    Vec<void*> ptrs = Vec<void*>.new();
    
    // Store pointers to our other vectors
    ptrs.push(&nums);
    ptrs.push(&floats);
    
    printf("Stored %ld pointers\n", ptrs.length());
    
    // Clear and check
    printf("\n--- Clear ---\n");
    nums.clear();
    printf("After clear, is empty: %s\n", nums.is_empty() ? "yes" : "no");
    
    // Clean up
    printf("\n--- Cleanup ---\n");
    drop(nums);
    drop(floats);
    drop(ptrs);
    printf("All vectors dropped.\n");
    
    return 0;
}
